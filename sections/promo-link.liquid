{% comment %}
  Fully Dynamic Promo Inline Link Section
  Based on Taima-Style Design
{% endcomment %}

{%- style -%}
  /* Dynamic Variables based on Section Settings */
  #promo-{{ section.id }} {
    --bg: {{ section.settings.bg_color }};
    --fg: {{ section.settings.text_color }};
    --ul: {{ section.settings.link_color }};
    --fs: {{ section.settings.font_size_desktop }}px;
    --fsm: {{ section.settings.font_size_mobile }}px;
    
    --gap-d: 12px;   /* text ↔ arrow (desktop) */
    --gap-m: 4px;    /* text ↔ arrow (mobile) */
    --arrow-d: 40px; /* arrow size desktop */
    --arrow-m: 24px; /* arrow size mobile */
    
    background: var(--bg);
    color: var(--fg);
    display: block;
    width: 100%;
  }

  /* Scoped Styles */
  #promo-{{ section.id }} .promo-inline-link__inner {
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    padding-left: 16px; 
    padding-right: 16px;
    gap: 0;
    font-size: var(--fs);
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: 0.96px;
    text-transform: capitalize;
  }

  /* Prefix Text */
  #promo-{{ section.id }} .promo-inline-link__prefix {
    margin-right: 7px; 
  }

  /* Anchor Link Text */
  #promo-{{ section.id }} .promo-inline-link__anchor {
    color: var(--ul);
    text-decoration: underline;
    text-decoration-color: var(--ul);
    text-underline-offset: 2px;
    -webkit-text-decoration-color: var(--ul);
    margin-right: var(--gap-d);
    transition: opacity .15s ease;
  }
  
  #promo-{{ section.id }} .promo-inline-link__anchor:hover { 
    opacity: .9; 
  }

  /* Arrow Container */
  #promo-{{ section.id }} .promo-inline-link__arrow {
    width: var(--arrow-d);
    height: var(--arrow-d);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform .15s ease;
    color: var(--ul); /* Sets SVG color via currentColor */
  }
  
  /* SVG Stroke Fix */
  #promo-{{ section.id }} .promo-inline-link__arrow svg path {
    stroke: currentColor;
  }

  /* Hover Animation */
  #promo-{{ section.id }} .promo-inline-link__anchor:hover + .promo-inline-link__arrow,
  #promo-{{ section.id }} .promo-inline-link__arrow:hover {
    transform: translateX(5px);
  }

  /* === Responsive: Mobile (≤ 749px) === */
  @media (max-width: 749px) {
    #promo-{{ section.id }} .promo-inline-link__inner {
      padding-top: {{ section.settings.padding_top | divided_by: 1.5 }}px; 
      padding-bottom: {{ section.settings.padding_bottom | divided_by: 1.5 }}px;
      font-size: var(--fsm);
    }
    #promo-{{ section.id }} .promo-inline-link__anchor {
      margin-right: var(--gap-m);
      letter-spacing: 0.24px;
    }
    #promo-{{ section.id }} .promo-inline-link__arrow {
      width: var(--arrow-m);
      height: var(--arrow-m);
    }
    #promo-{{ section.id }} .promo-inline-link__prefix {
      margin-right: 3px;
      letter-spacing: 0.48px;
    }
  }

  /* === Reduced Motion === */
  @media (prefers-reduced-motion: reduce) {
    #promo-{{ section.id }} .promo-inline-link__arrow,
    #promo-{{ section.id }} .promo-inline-link__anchor { 
      transition: none; 
    }
  }

  /* === XXL Screens (≥2200px): Scale +30% === */
  @media (min-width: 2200px) {
    #promo-{{ section.id }} .promo-inline-link__inner {
      padding-left: 20.8px; padding-right: 20.8px;
      font-size: calc(var(--fs) * 1.3);
      letter-spacing: 1.248px;
    }
    #promo-{{ section.id }} .promo-inline-link__prefix { margin-right: 9.1px; }
    #promo-{{ section.id }} .promo-inline-link__anchor { margin-right: 15.6px; text-underline-offset: 2.6px; }
    #promo-{{ section.id }} .promo-inline-link__arrow { width: 52px; height: 52px; }
    
    #promo-{{ section.id }} .promo-inline-link__anchor:hover + .promo-inline-link__arrow,
    #promo-{{ section.id }} .promo-inline-link__arrow:hover {
      transform: translateX(6.5px);
    }
  }

  /* === Medium/Large (751px–1799px): Scale -10% === */
  @media (min-width: 751px) and (max-width: 1799px) {
    #promo-{{ section.id }} .promo-inline-link__inner {
      padding-left: 14.4px; padding-right: 14.4px;
      font-size: calc(var(--fs) * 0.9);
      letter-spacing: 0.864px;
    }
    #promo-{{ section.id }} .promo-inline-link__prefix { margin-right: 6.3px; }
    #promo-{{ section.id }} .promo-inline-link__anchor { margin-right: 10.8px; text-underline-offset: 1.8px; }
    #promo-{{ section.id }} .promo-inline-link__arrow { width: 36px; height: 36px; }
    
    #promo-{{ section.id }} .promo-inline-link__anchor:hover + .promo-inline-link__arrow,
    #promo-{{ section.id }} .promo-inline-link__arrow:hover {
      transform: translateX(4.5px);
    }
  }
{%- endstyle -%}

<section id="promo-{{ section.id }}" class="promo-inline-link" role="region" aria-label="Promotion">
  <div class="promo-inline-link__inner">
    
    {%- if section.settings.text_prefix != blank -%}
      <span class="promo-inline-link__prefix">{{ section.settings.text_prefix }}</span>
    {%- endif -%}

    <a class="promo-inline-link__anchor" href="{{ section.settings.link_url }}">
      {{ section.settings.link_text }}
    </a>

    <a class="promo-inline-link__arrow" href="{{ section.settings.link_url }}" aria-label="{{ section.settings.link_text }}">
      <svg xmlns="http://www.w3.org/2000/svg" width="41" height="40" viewBox="0 0 41 40" fill="none">
        <path d="M23.1667 12L31.5 20.3333M31.5 20.3333L23.1667 28.6667M31.5 20.3333H9.83203" stroke="currentColor" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path>
      </svg>
    </a>

  </div>
</section>

{% schema %}
{
  "name": "Promo Link",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "text_prefix",
      "label": "Prefix Text",
      "default": "Save $200 On Our"
    },
    {
      "type": "text",
      "id": "link_text",
      "label": "Link Text",
      "default": "Best Selling Titanium Pan"
    },
    {
      "type": "url",
      "id": "link_url",
      "label": "Link URL"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#03231a"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Prefix Text Color",
      "default": "#b0b0b0"
    },
    {
      "type": "color",
      "id": "link_color",
      "label": "Link & Arrow Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "font_size_desktop",
      "min": 16,
      "max": 40,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 24
    },
    {
      "type": "range",
      "id": "font_size_mobile",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 12
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 24
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 24
    }
  ],
  "presets": [
    {
      "name": " Promo Link"
    }
  ]
}
{% endschema %}