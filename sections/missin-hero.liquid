{%- style -%}
  /* Dynamic Variables */
  #shopify-section-{{ section.id }} .mission {
    --bg-color: {{ section.settings.color_bg }};
    --text-color: {{ section.settings.color_text }};
    --subtext-color: {{ section.settings.color_subtext }};
  }

  /* Base Styles */
  #shopify-section-{{ section.id }} .mission {
    background-color: var(--bg-color);
    color: #EDE6DA; /* Default fallback */
    width: 100%;
    position: relative;
    background-repeat: no-repeat;
    
    /* Desktop Background Setup */
    background-size: cover;
    background-position: center 150px;
    {% if section.settings.image_desktop != blank %}
      background-image: url({{ section.settings.image_desktop | image_url: width: 3000 }});
    {% endif %}
  }

  #shopify-section-{{ section.id }} .mission__inner {
    /* Inner container logic matches original */
  }

  #shopify-section-{{ section.id }} .mission__content {
    max-width: 760px;
  }

  /* Typography */
  #shopify-section-{{ section.id }} .mission__heading {
    margin: 0 0 32px;
    color: var(--text-color);
    font-size: 64px;
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: 1.28px;
    text-transform: capitalize;
  }

  #shopify-section-{{ section.id }} .mission__subheading {
    margin: 0 0 16px;
    color: var(--subtext-color);
    font-size: 24px;
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: 0.96px;
    text-transform: capitalize;
  }
  
  #shopify-section-{{ section.id }} .mission__subheading p { margin: 0; }

  #shopify-section-{{ section.id }} .mission__kicker {
    color: var(--subtext-color);
    font-size: 24px;
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: 0.96px;
    text-transform: capitalize;
  }

  /* ------------------------------------------- */
  /* RESPONSIVE MEDIA QUERIES */
  /* ------------------------------------------- */

  /* Desktop Default (Min 750px) */
  @media (min-width: 750px) {
    #shopify-section-{{ section.id }} .mission { height: 736px; }
    #shopify-section-{{ section.id }} .mission__inner { padding: 120px; height: 100%; }
  }

  /* Laptop / Mid-Size (750px - 1799px) */
  @media (min-width: 750px) and (max-width: 1799px) {
    #shopify-section-{{ section.id }} .mission { 
      height: 662px; 
      background-position: center 135px; 
    }
    #shopify-section-{{ section.id }} .mission__inner { padding: 108px; }
    #shopify-section-{{ section.id }} .mission__content { max-width: 684px; }
    
    #shopify-section-{{ section.id }} .mission__heading {
      font-size: 57.6px; 
      letter-spacing: 1.152px; 
      margin-bottom: 28.8px;
    }
    #shopify-section-{{ section.id }} .mission__subheading,
    #shopify-section-{{ section.id }} .mission__kicker {
      font-size: 21.6px; 
      letter-spacing: 0.864px;
    }
  }

  /* Large Screens (2200px+) */
  @media (min-width: 2200px) {
    #shopify-section-{{ section.id }} .mission { 
      height: 957px; 
      background-position: center 195px; 
    }
    #shopify-section-{{ section.id }} .mission__inner { padding: 156px; }
    #shopify-section-{{ section.id }} .mission__content { max-width: 988px; }
    
    #shopify-section-{{ section.id }} .mission__heading {
      font-size: 83.2px; 
      letter-spacing: 1.664px; 
      margin-bottom: 41.6px;
    }
    #shopify-section-{{ section.id }} .mission__subheading,
    #shopify-section-{{ section.id }} .mission__kicker {
      font-size: 31.2px; 
      letter-spacing: 1.248px;
    }
  }

  /* Mobile (Max 749px) */
  @media (max-width: 749px) {
    #shopify-section-{{ section.id }} .mission {
      background-size: auto;
      background-position: right bottom;
      
      /* Mobile Image Logic */
      {% if section.settings.image_mobile != blank %}
        background-image: url({{ section.settings.image_mobile | image_url: width: 800 }});
      {% elsif section.settings.image_desktop != blank %}
        background-image: url({{ section.settings.image_desktop | image_url: width: 800 }});
      {% endif %}
    }

    #shopify-section-{{ section.id }} .mission__inner { padding: 64px 16px 106px; }
    
    #shopify-section-{{ section.id }} .mission__heading {
      font-size: 48px;
      letter-spacing: 1.92px;
    }
    #shopify-section-{{ section.id }} .mission__subheading,
    #shopify-section-{{ section.id }} .mission__kicker {
      font-size: 16px;
      letter-spacing: 0.32px;
    }
  }
{%- endstyle -%}

<section class="mission" role="region" aria-label="{{ section.settings.heading | strip_html }}">
  <div class="mission__inner">
    <div class="mission__content">
      
      {%- if section.settings.heading != blank -%}
        <h2 class="mission__heading">{{ section.settings.heading }}</h2>
      {%- endif -%}
      
      {%- if section.settings.subheading != blank -%}
        <div class="mission__subheading rte">
          {{ section.settings.subheading }}
        </div>
      {%- endif -%}
      
      {%- if section.settings.kicker != blank -%}
        <div class="mission__kicker">{{ section.settings.kicker }}</div>
      {%- endif -%}
      
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Mission Hero",
  "settings": [
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "image_picker",
      "id": "image_desktop",
      "label": "Desktop Background",
      "info": "Positioned center 150px from top"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Mobile Background",
      "info": "Positioned right bottom"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our Mission Is Simple."
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>To create kitchenware so safe, so durable, and so effortless... you’d never have to think about it again.</p>"
    },
    {
      "type": "text",
      "id": "kicker",
      "label": "Kicker / Footer Text",
      "default": "That’s it."
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "color_bg",
      "label": "Background Color",
      "default": "#121212"
    },
    {
      "type": "color",
      "id": "color_text",
      "label": "Heading Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "color_subtext",
      "label": "Subtext Color (Grey)",
      "default": "#B0B0B0"
    }
  ],
  "presets": [
    {
      "name": "Mission Hero"
    }
  ]
}
{% endschema %}
